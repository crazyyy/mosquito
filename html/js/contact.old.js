jQuery(function(t){var n={message:null,init:function(){t("header .recall").click(function(a){a.preventDefault(),t.get("data/contact.php",function(a){t(a).modal({closeHTML:'<a href="#" title="Close" class="modal-close"></a>',position:["15%"],overlayId:"contact-overlay",containerId:"contact-container",onOpen:n.open,onShow:n.show,onClose:n.close})})})},open:function(n){var a=280;t("#contact-container .contact-title").html("Загрузка..."),n.overlay.fadeIn(200,function(){n.container.fadeIn(200,function(){n.data.fadeIn(200,function(){t("#contact-container .contact-content").animate({height:a},function(){t("#contact-container form").fadeIn(200,function(){t("#contact-container #contact-name").focus()})})})})})},show:function(a){t("#contact-container .contact-send").click(function(a){if(a.preventDefault(),n.validate()){var c=t("#contact-container .contact-message");c.fadeOut(function(){c.removeClass("contact-error").empty()}),t("#contact-container .contact-title").html("Отправка..."),t("#contact-container form").fadeOut(200),t("#contact-container .contact-content").animate({height:"80px"},function(){t("#contact-container .contact-loading").fadeIn(200,function(){t.ajax({url:"data/contact.php",data:t("#contact-container form").serialize()+"&action=send",type:"post",cache:!1,dataType:"html",success:function(n){t("#contact-container .contact-loading").fadeOut(200,function(){t("#contact-container .contact-title").html("Спасибо!"),c.html(n).fadeIn(200)})},error:n.error})})})}})},close:function(n){t("#contact-container .contact-message").fadeOut(),t("#contact-container form").fadeOut(200),t("#contact-container .contact-content").animate({height:40},function(){n.data.fadeOut(200,function(){n.container.fadeOut(200,function(){n.overlay.fadeOut(200,function(){t.modal.close()})})})})},error:function(t){alert(t.statusText)},validate:function(){n.message="",t("#contact-container #contact-name").val()||(n.message+="Введите ваше имя. ");var a=t("#contact-container #contact-email").val();a?n.validateEmail(a)||(n.message+="Телефон указан с ошибкой. "):n.message+="Укажите корректный телефон "},validateEmail:function(t){return t.length<5?!1:!0},showError:function(){t("#contact-container .contact-message").html(t('<div class="contact-error"></div>').append(n.message)).fadeIn(200)}};n.init()});